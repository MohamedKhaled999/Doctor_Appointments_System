<div class="reset-password-container">
    <div class="card">
        <h2>Reset Password</h2>
        <p>Enter your new password below</p>

        <form [formGroup]="resetForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
                <label for="newPassword">New Password</label>
                <div class="input-group">
                    <input id="newPassword" formControlName="newPassword"
                        [type]="showPassword.new ? 'text' : 'password'" placeholder="Enter new password">
                    <button type="button" class="toggle-password" (click)="togglePasswordVisibility('new')">
                        <i class="fas" [class.fa-eye]="!showPassword.new" [class.fa-eye-slash]="showPassword.new"></i>
                    </button>
                </div>
                @if (resetForm.get('newPassword')?.invalid && resetForm.get('newPassword')?.touched) {
                <div class="error-message">
                    @if (resetForm.get('newPassword')?.errors?.['required']) {
                    <div>Password is required</div>
                    }
                    @if (resetForm.get('newPassword')?.errors?.['minlength']) {
                    <div>Must be at least 8 characters</div>
                    }
                    @if (resetForm.get('newPassword')?.errors?.['pattern']) {
                    <div>Requires uppercase, number, and special character</div>
                    }
                </div>
                }
            </div>

            <div class="form-group">
                <label for="confirmPassword">Confirm Password</label>
                <div class="input-group">
                    <input id="confirmPassword" formControlName="confirmPassword"
                        [type]="showPassword.confirm ? 'text' : 'password'" placeholder="Confirm new password">
                    <button type="button" class="toggle-password" (click)="togglePasswordVisibility('confirm')">
                        <i class="fas" [class.fa-eye]="!showPassword.confirm"
                            [class.fa-eye-slash]="showPassword.confirm"></i>
                    </button>
                </div>
                @if (resetForm.get('confirmPassword')?.invalid && resetForm.get('confirmPassword')?.touched) {
                <div class="error-message">
                    @if (resetForm.get('confirmPassword')?.errors?.['required']) {
                    <div>Confirmation is required</div>
                    }
                    @if (resetForm.get('confirmPassword')?.errors?.['mismatch']) {
                    <div>Passwords don't match</div>
                    }
                </div>
                }
            </div>

            <button type="submit" class="submit-btn" [disabled]="resetForm.invalid">
                Reset Password
            </button>
        </form>
    </div>
    </div>